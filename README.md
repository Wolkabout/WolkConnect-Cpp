# WolkConnector C++
WolkAbout C++11 Connector library for connecting devices to [WolkAbout IoT Platform](https://demo.wolkabout.com/#/login).

Supported protocol(s):
* JSON_SINGLE


Installing from source
----------------------

This repository must be cloned from the command line using:
```sh
git clone --recurse-submodules https://github.com/Wolkabout/WolkConnect-Cpp.git
```

Prerequisite
------
Following tools/libraries are required in order to build WolkAbout C++ connector

* cmake - version 3.5 or later
* autotools
* autoconf
* m4
* zlib1g-dev

Former can be installed on Debian based system from terminal by invoking

`apt-get install autotools-dev autoconf m4 zlib1g-dev cmake`

Afterwards dependencies are built, and Makefile build system is generated by invoking
`./configure`

Generated build system is located inside 'out' directory


WolkAbout C++ Connector library, and example are built from 'out' directory by invoking
`make` in terminal

Example Usage
-------------

Create a device on WolkAbout IoT platform by importing manifest file `simple-example-manifest.json` located in `examples/simple/`
This manifest fits `simple` example and demonstrates the sending of a temperature sensor reading.

**Establishing connection with WolkAbout IoT platform:**
```cpp
wolkabout::Device device("DEVICE_KEY", "DEVICE_PASSWORD");

std::unique_ptr<wolkabout::Wolk> wolk = wolkabout::Wolk::newBuilder(device).build();

wolk->connect();
```

**Publishing sensor readings:**
```cpp
wolk->addSensorReading("TEMPERATURE_REF", 23.4);
```

**Data publish strategy:**

Sensor readings are pushed to WolkAbout IoT platform on demand by calling
```cpp
wolk->publish();
```

**Disconnecting from the platform:**
```cpp
wolk->disconnect();
```
**Additional functionality**

WolkConnect-C++ library has integrated additional features which can perform full WolkAbout IoT platform potential. Read more about full feature set example [HERE](./examples/full_feature_set/).
